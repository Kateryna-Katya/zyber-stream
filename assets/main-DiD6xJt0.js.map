{"version":3,"file":"main-DiD6xJt0.js","sources":["../../src/main.js"],"sourcesContent":["/**\n * ZYBER-STREAM.BLOG — Final Global Script v3.0\n * Технологичный блог об ИИ (Франция / 2026)\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    \n    // ==========================================\n    // 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК (Lucide)\n    // ==========================================\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // ==========================================\n    // 2. HEADER: СКРОЛЛ-ЭФФЕКТ\n    // ==========================================\n    const header = document.querySelector('.header');\n    const handleScroll = () => {\n        if (!header) return;\n        window.scrollY > 50 \n            ? header.classList.add('header--scrolled') \n            : header.classList.remove('header--scrolled');\n    };\n    window.addEventListener('scroll', handleScroll);\n\n    // ==========================================\n    // 3. НАВИГАЦИЯ: МОБИЛЬНОЕ МЕНЮ И ПЛАВНЫЙ СКРОЛЛ\n    // ==========================================\n    const burger = document.getElementById('burger');\n    const mobileMenu = document.getElementById('mobile-menu');\n\n    const toggleMenu = () => {\n        if (burger) burger.classList.toggle('burger--active');\n        if (mobileMenu) mobileMenu.classList.toggle('mobile-menu--active');\n        document.body.classList.toggle('no-scroll');\n    };\n\n    if (burger) burger.addEventListener('click', toggleMenu);\n\n    // Обработка всех ссылок с якорями\n    document.querySelectorAll('a[href*=\"#\"]').forEach(link => {\n        link.addEventListener('click', function(e) {\n            const url = new URL(this.href, window.location.origin);\n            \n            // Если мы на той же странице\n            if (url.pathname === window.location.pathname || url.pathname === '/' && window.location.pathname === '/index.html') {\n                const target = document.querySelector(url.hash);\n                if (target) {\n                    e.preventDefault();\n                    if (mobileMenu && mobileMenu.classList.contains('mobile-menu--active')) toggleMenu();\n                    \n                    const headerHeight = 80;\n                    window.scrollTo({\n                        top: target.offsetTop - headerHeight,\n                        behavior: 'smooth'\n                    });\n                }\n            }\n        });\n    });\n\n    // ==========================================\n    // 4. ANIMATION: ПОЯВЛЕНИЕ (Intersection Observer)\n    // ==========================================\n    const revealObserver = new IntersectionObserver((entries) => {\n        entries.forEach(entry => {\n            if (entry.isIntersecting) {\n                entry.target.classList.add('appear');\n            }\n        });\n    }, { threshold: 0.1 });\n\n    document.querySelectorAll('.fade-in').forEach(el => revealObserver.observe(el));\n\n    // ==========================================\n    // 5. PRACTICES: SPOTLIGHT (Mesh Grid)\n    // ==========================================\n    const meshSection = document.getElementById('practices');\n    const spotlight = document.getElementById('mesh-spotlight');\n\n    if (meshSection && spotlight) {\n        meshSection.addEventListener('mousemove', (e) => {\n            const rect = meshSection.getBoundingClientRect();\n            spotlight.style.left = `${e.clientX - rect.left}px`;\n            spotlight.style.top = `${e.clientY - rect.top}px`;\n            spotlight.style.opacity = '1';\n        });\n        meshSection.addEventListener('mouseleave', () => spotlight.style.opacity = '0');\n    }\n\n    // ==========================================\n    // 6. BENEFITS: BENTO TILT EFFECT\n    // ==========================================\n    const bentoLarge = document.querySelector('.bento-card--large');\n    if (bentoLarge) {\n        bentoLarge.addEventListener('mousemove', (e) => {\n            const rect = bentoLarge.getBoundingClientRect();\n            const x = (e.clientX - rect.left) - (rect.width / 2);\n            const y = (e.clientY - rect.top) - (rect.height / 2);\n            \n            bentoLarge.style.transform = `perspective(1000px) rotateX(${-y / 20}deg) rotateY(${x / 20}deg) translateY(-5px)`;\n        });\n        bentoLarge.addEventListener('mouseleave', () => {\n            bentoLarge.style.transform = `perspective(1000px) rotateX(0deg) rotateY(0deg) translateY(0px)`;\n        });\n    }\n\n    // ==========================================\n    // 7. INNOVATIONS: PATH PROGRESS\n    // ==========================================\n    const progressLine = document.querySelector('.innovation-path__progress');\n    const pathSteps = document.querySelectorAll('.path-step');\n\n    const updatePath = () => {\n        const pathSection = document.querySelector('.innovation-path');\n        if (!pathSection || !progressLine) return;\n\n        const rect = pathSection.getBoundingClientRect();\n        const scrollOffset = window.innerHeight / 1.5;\n        let progress = ((scrollOffset - rect.top) / pathSection.offsetHeight) * 100;\n        \n        progressLine.style.height = `${Math.max(0, Math.min(100, progress))}%`;\n\n        pathSteps.forEach(step => {\n            step.getBoundingClientRect().top < scrollOffset \n                ? step.classList.add('is-active') \n                : step.classList.remove('is-active');\n        });\n    };\n    window.addEventListener('scroll', updatePath);\n\n    // ==========================================\n    // 8. FORM & CAPTCHA: ИСПРАВЛЕННАЯ ЛОГИКА\n    // ==========================================\n    const contactForm = document.getElementById('contact-form');\n    const captchaLabel = document.getElementById('captcha-question');\n    const captchaInput = document.getElementById('user-captcha');\n    const successBox = document.getElementById('success-message');\n    const phoneInput = document.getElementById('user-phone');\n    \n    let correctResult = 0;\n\n    const initCaptcha = () => {\n        if (!captchaLabel) return;\n        const n1 = Math.floor(Math.random() * 9) + 1;\n        const n2 = Math.floor(Math.random() * 9) + 1;\n        correctResult = n1 + n2;\n        captchaLabel.innerText = `${n1} + ${n2} = ?`;\n        if (captchaInput) captchaInput.value = '';\n    };\n\n    initCaptcha();\n\n    if (phoneInput) {\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/[^0-9]/g, '');\n        });\n    }\n\n    if (contactForm) {\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n            \n            const userAns = parseInt(captchaInput.value, 10);\n\n            if (userAns !== correctResult) {\n                alert('Неверный ответ капчи! Попробуйте снова.');\n                initCaptcha();\n                return;\n            }\n\n            const btn = contactForm.querySelector('button[type=\"submit\"]');\n            btn.disabled = true;\n            btn.innerText = 'Отправка...';\n\n            setTimeout(() => {\n                contactForm.style.display = 'none';\n                if (successBox) successBox.style.display = 'flex';\n                btn.disabled = false;\n                btn.innerText = 'Отправить запрос';\n            }, 1500);\n        });\n    }\n\n    // ==========================================\n    // 9. COOKIE POPUP\n    // ==========================================\n    const cookiePopup = document.getElementById('cookie-popup');\n    if (cookiePopup && !localStorage.getItem('zyber_cookies_accepted')) {\n        setTimeout(() => cookiePopup.classList.add('cookie-popup--active'), 3000);\n        document.getElementById('cookie-accept')?.addEventListener('click', () => {\n            localStorage.setItem('zyber_cookies_accepted', 'true');\n            cookiePopup.classList.remove('cookie-popup--active');\n        });\n    }\n\n    // Первичный запуск\n    handleScroll();\n    updatePath();\n});"],"names":["header","handleScroll","burger","mobileMenu","toggleMenu","link","e","url","target","revealObserver","entries","entry","el","meshSection","spotlight","rect","bentoLarge","x","y","progressLine","pathSteps","updatePath","pathSection","scrollOffset","progress","step","contactForm","captchaLabel","captchaInput","successBox","phoneInput","correctResult","initCaptcha","n1","n2","btn","cookiePopup","_a"],"mappings":"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"}