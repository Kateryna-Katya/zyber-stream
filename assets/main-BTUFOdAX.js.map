{"version":3,"file":"main-BTUFOdAX.js","sources":["../../src/main.js"],"sourcesContent":["/**\n * ZYBER-STREAM.BLOG — Full Production Script v2.0\n * Пошаговая реализация всех интерактивных функций\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n  // 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК (Lucide)\n  // Используем встроенную функцию библиотеки, подключенной через CDN\n  if (typeof lucide !== 'undefined') {\n      lucide.createIcons();\n  }\n\n  // 2. HEADER: ИЗМЕНЕНИЕ ПРИ СКРОЛЛЕ\n  // Добавляет класс при прокрутке более 50px для эффекта \"закрепленной шапки\"\n  const header = document.querySelector('.header');\n  const updateHeader = () => {\n      if (header) {\n          window.scrollY > 50\n              ? header.classList.add('header--scrolled')\n              : header.classList.remove('header--scrolled');\n      }\n  };\n  window.addEventListener('scroll', updateHeader);\n\n  // 3. НАВИГАЦИЯ: МОБИЛЬНОЕ МЕНЮ И ПЛАВНЫЙ СКРОЛЛ\n  const burger = document.getElementById('burger');\n  const mobileMenu = document.getElementById('mobile-menu'); // Если используется оверлей\n  const nav = document.querySelector('.nav'); // Если используется переключение класса в шапке\n\n  const toggleMenu = () => {\n      if (burger) burger.classList.toggle('burger--active');\n      if (mobileMenu) mobileMenu.classList.toggle('mobile-menu--active');\n      if (nav) nav.classList.toggle('nav--active');\n      document.body.classList.toggle('no-scroll');\n  };\n\n  if (burger) burger.addEventListener('click', toggleMenu);\n\n  // Обработка кликов по ссылкам (якоря и переходы)\n  document.querySelectorAll('a').forEach(link => {\n      link.addEventListener('click', function(e) {\n          const href = this.getAttribute('href');\n\n          // Если ссылка — якорь на текущей странице\n          if (href && href.startsWith('#') && href !== '#') {\n              e.preventDefault();\n              const target = document.querySelector(href);\n              if (target) {\n                  // Закрываем мобильное меню если оно открыто\n                  if (nav && nav.classList.contains('nav--active')) toggleMenu();\n\n                  const headerHeight = 80;\n                  const targetPos = target.getBoundingClientRect().top + window.pageYOffset - headerHeight;\n                  window.scrollTo({ top: targetPos, behavior: 'smooth' });\n              }\n          }\n      });\n  });\n\n  // 4. ANIMATION: ПОЯВЛЕНИЕ ЭЛЕМЕНТОВ (Intersection Observer)\n  // Используем для всех элементов с классом .fade-in\n  const revealOptions = { threshold: 0.15, rootMargin: '0px 0px -50px 0px' };\n  const revealObserver = new IntersectionObserver((entries) => {\n      entries.forEach(entry => {\n          if (entry.isIntersecting) {\n              entry.target.classList.add('appear');\n          }\n      });\n  }, revealOptions);\n\n  document.querySelectorAll('.fade-in').forEach(el => revealObserver.observe(el));\n\n  // 5. SECTION PRACTICES: МЕШ-СПОТЛАЙТ (Spotlight)\n  const meshSection = document.getElementById('practices');\n  const spotlight = document.getElementById('mesh-spotlight');\n\n  if (meshSection && spotlight) {\n      meshSection.addEventListener('mousemove', (e) => {\n          const rect = meshSection.getBoundingClientRect();\n          const x = e.clientX - rect.left;\n          const y = e.clientY - rect.top;\n\n          spotlight.style.left = `${x}px`;\n          spotlight.style.top = `${y}px`;\n          spotlight.style.opacity = '1';\n      });\n\n      meshSection.addEventListener('mouseleave', () => {\n          spotlight.style.opacity = '0';\n      });\n  }\n\n  // 6. SECTION BENEFITS: TILT ЭФФЕКТ (Bento Grid)\n  const bentoLarge = document.querySelector('.bento-card--large');\n  if (bentoLarge) {\n      bentoLarge.addEventListener('mousemove', (e) => {\n          const rect = bentoLarge.getBoundingClientRect();\n          const x = e.clientX - rect.left;\n          const y = e.clientY - rect.top;\n          const centerX = rect.width / 2;\n          const centerY = rect.height / 2;\n\n          const rotateX = (y - centerY) / 20;\n          const rotateY = (centerX - x) / 20;\n\n          bentoLarge.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateY(-5px)`;\n      });\n\n      bentoLarge.addEventListener('mouseleave', () => {\n          bentoLarge.style.transform = `perspective(1000px) rotateX(0deg) rotateY(0deg) translateY(0px)`;\n      });\n  }\n\n  // 7. SECTION INNOVATIONS: ВЕРТИКАЛЬНЫЙ ПРОГРЕСС-БАР\n  const progressLine = document.querySelector('.innovation-path__progress');\n  const pathSteps = document.querySelectorAll('.path-step');\n\n  const updatePath = () => {\n      const pathSection = document.querySelector('.innovation-path');\n      if (!pathSection || !progressLine) return;\n\n      const rect = pathSection.getBoundingClientRect();\n      const scrollPoint = window.innerHeight / 1.5;\n\n      let progress = ((scrollPoint - rect.top) / pathSection.offsetHeight) * 100;\n      progressLine.style.height = `${Math.max(0, Math.min(100, progress))}%`;\n\n      pathSteps.forEach(step => {\n          if (step.getBoundingClientRect().top < scrollPoint) {\n              step.classList.add('is-active');\n          } else {\n              step.classList.remove('is-active');\n          }\n      });\n  };\n  window.addEventListener('scroll', updatePath);\n\n  // 8. COOKIE POPUP\n  const cookiePopup = document.getElementById('cookie-popup');\n  const cookieBtn = document.getElementById('cookie-accept');\n\n  if (cookiePopup && !localStorage.getItem('zyber_cookies_accepted')) {\n      setTimeout(() => {\n          cookiePopup.classList.add('cookie-popup--active');\n      }, 3000);\n  }\n\n  if (cookieBtn) {\n      cookieBtn.addEventListener('click', () => {\n          localStorage.setItem('zyber_cookies_accepted', 'true');\n          cookiePopup.classList.remove('cookie-popup--active');\n      });\n  }\n\n  // 9. ВАЛИДАЦИЯ ТЕЛЕФОНА (ДЛЯ ФОРМ, ЕСЛИ ОНИ ЕСТЬ)\n  const phoneFields = document.querySelectorAll('input[type=\"tel\"]');\n  phoneFields.forEach(field => {\n      field.addEventListener('input', (e) => {\n          e.target.value = e.target.value.replace(/[^0-9]/g, '');\n      });\n  });\n\n  // Первичный запуск функций скролла\n  updateHeader();\n  updatePath();\n});"],"names":["header","updateHeader","burger","mobileMenu","nav","toggleMenu","link","e","href","target","targetPos","revealOptions","revealObserver","entries","entry","el","meshSection","spotlight","rect","x","y","bentoLarge","centerX","centerY","rotateX","rotateY","progressLine","pathSteps","updatePath","pathSection","scrollPoint","progress","step","cookiePopup","cookieBtn","field"],"mappings":"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"}